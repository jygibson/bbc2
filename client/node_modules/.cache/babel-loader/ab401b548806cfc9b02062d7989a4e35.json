{"ast":null,"code":"import _toConsumableArray from \"C:\\\\Users\\\\jygib\\\\Desktop\\\\coding\\\\bbc2\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"C:\\\\Users\\\\jygib\\\\Desktop\\\\coding\\\\bbc2\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\jygib\\\\Desktop\\\\coding\\\\bbc2\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\jygib\\\\Desktop\\\\coding\\\\bbc2\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\jygib\\\\Desktop\\\\coding\\\\bbc2\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\jygib\\\\Desktop\\\\coding\\\\bbc2\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\jygib\\\\Desktop\\\\coding\\\\bbc2\\\\client\\\\src\\\\pages\\\\user.js\";\nimport React, { Component } from 'react';\nimport { Col, Row, Container } from \"../components/grid\";\nimport Wrapper from \"../components/wrapper\";\nimport { Link } from \"react-router-dom\";\nimport FavoritesCard from '../components/FavoritesTile';\nimport axios from 'axios';\n\nvar User =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(User, _Component);\n\n  function User(props) {\n    var _this;\n\n    _classCallCheck(this, User);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(User).call(this, props));\n\n    _this.loadFavorites = function () {\n      var userEmail = localStorage.getItem('email');\n      axios({\n        method: 'GET',\n        url: '/api/favorite',\n        params: {\n          userEmail: userEmail\n        }\n      }).then(function (response) {\n        console.log('this is the response', response.data);\n\n        _this.setState({\n          items: _toConsumableArray(response.data)\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n    };\n\n    _this.state = {\n      items: []\n    };\n    return _this;\n  }\n\n  _createClass(User, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      console.log(this.state);\n\n      if (this.state.items.favorite === 1) {\n        this.loadFavorites();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(Container, {\n        fluid: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      }, React.createElement(Wrapper, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }, React.createElement(Col, {\n        size: \"md-8\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        id: \"greeting\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }, \"Hi \", React.createElement(\"span\", {\n        id: \"useremail\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }, \" \", localStorage.getItem('email')), \"! Check out your favorites below.\", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }), \"If you want to start a new search, click \", React.createElement(Link, {\n        to: \"/search\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, \"here\")), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }))), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }), React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, React.createElement(Col, {\n        size: \"md-8\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, this.state.items.map(function (item, key) {\n        return React.createElement(FavoritesCard, Object.assign({\n          key: \"\".concat(item.title, \"--\").concat(key)\n        }, item, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 56\n          },\n          __self: this\n        }));\n      })))));\n    }\n  }]);\n\n  return User;\n}(Component);\n\nexport { User as default };","map":{"version":3,"sources":["C:\\Users\\jygib\\Desktop\\coding\\bbc2\\client\\src\\pages\\user.js"],"names":["React","Component","Col","Row","Container","Wrapper","Link","FavoritesCard","axios","User","props","loadFavorites","userEmail","localStorage","getItem","method","url","params","then","response","console","log","data","setState","items","catch","error","state","favorite","map","item","key","title"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { Col, Row, Container } from \"../components/grid\";\r\nimport Wrapper from \"../components/wrapper\";\r\nimport { Link } from \"react-router-dom\";\r\nimport FavoritesCard from '../components/FavoritesTile'\r\nimport axios from 'axios'\r\n\r\nexport default class User extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            items: [],\r\n        };\r\n    }\r\n\r\n    loadFavorites = () => {\r\n        const userEmail = ( localStorage.getItem('email') );\r\n        axios({\r\n            method: 'GET',\r\n            url: '/api/favorite',\r\n            params: {userEmail}\r\n        })\r\n            .then(response => {\r\n                console.log('this is the response', response.data);\r\n                this.setState({ items: [...response.data] });\r\n            })\r\n            .catch(error => { console.log(error) });\r\n    };\r\n\r\n    componentDidMount() {\r\n        console.log(this.state)\r\n        if (this.state.items.favorite === 1){\r\n            this.loadFavorites()\r\n        }\r\n        };\r\n    \r\n\r\n    render() {\r\n        return (\r\n            <Container fluid>\r\n                <Wrapper>\r\n                    <Row>\r\n                        <Col size=\"md-8\">\r\n                            <p id=\"greeting\">Hi <span id=\"useremail\"> {localStorage.getItem('email')}</span>! Check out your favorites below.\r\n                            <br></br>\r\n                                <br></br>\r\n                                If you want to start a new search, click <Link to={\"/search\"}>here</Link></p>\r\n                                <br></br>\r\n                        </Col>\r\n                    </Row>\r\n                    <br></br>\r\n                    <Row>\r\n                        <Col size=\"md-8\">\r\n                            {\r\n                                this.state.items.map((item, key) => (\r\n                                    <FavoritesCard key={`${item.title}--${key}`} {...item} />\r\n                                ))\r\n                            }\r\n\r\n                        </Col>\r\n                    </Row>\r\n                </Wrapper>\r\n            </Container >\r\n        )\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}